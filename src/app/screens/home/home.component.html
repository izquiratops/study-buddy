<app-navigator-bar title="„Éï„É©„ÉÉ„Ç∑„É•„Ç´„Éº„Éâ üêÅ"></app-navigator-bar>

<ng-container *ngIf="decks$ | async as decks">
    <ng-container *ngIf="decks.length > 0; else emptyListBlock">
        <input type="text" placeholder="Search... üîé" (keyup)="handleSearchTextChange($event)" />

        <table class="striped">
            <thead>
                <tr>
                    <th scope="col">Name</th>
                    <th scope="col">Deck cards</th>
                    <th scope="col">Cards to review</th>
                    <th scope="col"><!-- ‚úèÔ∏è Column --></th>
                    <th scope="col"><!-- ‚ùå Column --></th>
                </tr>
            </thead>
            <tbody>
                <tr *ngFor="let deck of (decks | filterDecksByText: searchText); index as idx">
                    <th scope="row" tabindex="idx">{{deck.name}}</th>
                    <td>{{deck.flashCards.length}}</td>
                    <td>{{deck.toBeReviewedCount}}</td>
                    <td class="shrink-cell">
                        <button class="contrast outline" data-tooltip="Edit" 
                            [routerLink]="'/editor'" [queryParams]="{id: deck.idbKey}">
                            ‚úèÔ∏è
                        </button>
                    </td>
                    <td class="shrink-cell">
                        <button class="contrast outline" data-tooltip="Remove" 
                            (click)="handleDeleteDeck(deck.idbKey)">
                            ‚ùå
                        </button>
                    </td>
                </tr>
                <tr>
                    <th scope="row" colspan="5">
                        <a [routerLink]="'/editor'">Create new deck</a>
                    </th>
                </tr>
            </tbody>
        </table>
    </ng-container>
</ng-container>

<ng-template #emptyListBlock>
    <p>Looks like there are no decks here at the moment,
        <a [routerLink]="'/editor'">click here to create one.</a>
    </p>
</ng-template>