<app-navigator-bar
  title="エディタ"
  [actions]="navigatorActions"
></app-navigator-bar>

<!-- Reactive form -->
<form [formGroup]="deckForm" class="expand-container hidden-scroll">
  <fieldset>
    <label for="name"> Name </label>
    <input
      type="text"
      id="name"
      formControlName="name"
      placeholder="JLPT N5 🍉"
    />
    <small
      class="pico-color-red-500"
      [hidden]="nameControl.valid || nameControl.pristine"
    >
      Field not valid
    </small>
  </fieldset>

  <ng-container *ngIf="hasCards; else emptyListBlock">
    <!-- <input type="search" placeholder="Search..." (keyup)="onSearchTextChange($event)" /> -->
    <app-cards-table class="expand-container scrollable"></app-cards-table>
  </ng-container>

  <div>
    <button
      type="button"
      [disabled]="!deckForm.valid"
      [routerLink]="'..'"
      (click)="handleCreateDeck()"
    >
      {{ submitButtonLabel }}
    </button>
  </div>
</form>

<ng-template #emptyListBlock>
  <article>
    <!-- <img src="assets/empty_list.jpg" class="empty-list-picture" /> -->
    <p><b>Oops!</b> It seems this deck is empty.</p>
    <button (click)="handleOpenDialog(-1)">Create Card</button>
    <hr />
    <p>Or import an existing .csv file</p>
    <input type="file" accept=".csv" (change)="onCsvFileSelected($event)" />
  </article>
</ng-template>
