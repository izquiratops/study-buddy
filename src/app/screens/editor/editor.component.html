<app-navigator-bar title="Deck Editor">
    <li><a [routerLink]="'..'">Go Home</a></li>
</app-navigator-bar>

<div>
    <button type="button" (click)="handleCreateNewCard()">Add Card</button>
</div>

<app-card-edit-dialog (submit)="onSubmitNewCard($event)"></app-card-edit-dialog>

<!-- Reactive form -->
<form [formGroup]="newDeckForm">
    <label for="name">Name</label>
    <input type="text" id="name" formControlName="name" placeholder="JLPT N5" />
    <div [hidden]="nameFormField.valid || nameFormField.pristine">Field not valid</div>

    <label for="flashCards">Cards</label>
    <table class="striped">
        <thead>
            <tr>
                <th scope="col">Front</th>
                <th scope="col">Back</th>
                <th scope="col"><!-- ✏️ Column --></th>
                <th scope="col"><!-- ❌ Column --></th>
            </tr>
        </thead>
        <tbody formArrayName="flashCards">
            <tr *ngFor="let flashCard of flashCardsFormField.controls; index as idx">
                <th scope="row">{{flashCard.value.content.front}}</th>
                <td>{{flashCard.value.content.back}}</td>
                <td class="centered-cell" (click)="handleEditCard(idx)">✏️</td>
                <td class="centered-cell" (click)="handleDeleteCard(idx)">❌</td>
            </tr>
        </tbody>
    </table>

    <button [routerLink]="'..'" [disabled]="!newDeckForm.valid" (click)="handleCreateDeck()">
        Create Deck
    </button>
</form>