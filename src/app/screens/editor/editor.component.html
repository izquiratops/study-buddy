<app-navigator-bar title="„Ç®„Éá„Ç£„Çø">
    <li><a [routerLink]="'..'">Go Home üè°</a></li>
</app-navigator-bar>

<app-card-edit-dialog (submit)="onSubmitNewCard($event)"></app-card-edit-dialog>

<!-- Reactive form -->
<form [formGroup]="newDeckForm">
    <fieldset>
        <label for="name">
            Name
        </label>
        <input type="text" id="name" formControlName="name" placeholder="JLPT N5 üçâ" />
        <small class="pico-color-red-500" [hidden]="nameFormField.valid || nameFormField.pristine">
            Field not valid
        </small>
    </fieldset>

    <article *ngIf="flashCardsFormField.value.length > 0; else emptyListBlock">
        <input type="search" placeholder="Search..." (keyup)="onSearchTextChange($event)" />

        <div class="overflow-auto">
            <table class="striped">
                <thead>
                    <tr>
                        <th scope="col">Front</th>
                        <th scope="col">Back</th>
                        <th scope="col"><!-- ‚úèÔ∏è Column --></th>
                        <th scope="col"><!-- ‚ùå Column --></th>
                    </tr>
                </thead>
                <tbody formArrayName="flashCards">
                    <tr
                        *ngFor="let flashCard of (flashCardsFormField.controls | filterCardsByText: searchText); index as idx">
                        <th scope="row">{{ flashCard.value.content.front }}</th>
                        <td>{{ flashCard.value.content.back }}</td>
                        <td class="shrink-cell">
                            <button data-tooltip="Edit" (click)="handleEditCard(idx)">
                                ‚úèÔ∏è
                            </button>
                        </td>
                        <td class="shrink-cell">
                            <button data-tooltip="Remove" (click)="handleDeleteCard(idx)">
                                ‚ùå
                            </button>
                        </td>
                    </tr>
                    <tr>
                        <th scope="row" colspan="4">
                            <a (click)="handleCreateNewCard()">Add Card</a>
                        </th>
                    </tr>
                </tbody>
            </table>
        </div>
    </article>

    <button type="button" [disabled]="!newDeckForm.valid" [routerLink]="'..'" (click)="handleCreateDeck()">
        {{ idbKey === -1 ? 'Create Deck' : 'Apply Changes' }}
    </button>
</form>

<ng-template #emptyListBlock>
    <article>Looks like there are no cards,
        <a (click)="handleCreateNewCard()">click here to create one.</a>
    </article>
</ng-template>