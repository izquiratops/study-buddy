<dialog open="true">
  <article>
    <header class="grid">
      <h2>Create new card</h2>
    </header>

    <!-- Template driven form -->
    <form #cardForm="ngForm">
      <label for="front">
        Front
        <textarea
          #frontField
          [(ngModel)]="cardModel.front"
          required
          id="front"
          name="front"
          placeholder="Dictionary"
          #front="ngModel"
        ></textarea>
        <small
          class="pico-color-red-500"
          [hidden]="front.valid || front.pristine"
        >
          Field not valid
        </small>
      </label>
      <label for="front">
        Back
        <textarea
          [(ngModel)]="cardModel.back"
          required
          id="back"
          name="back"
          placeholder="じしょ"
          #back="ngModel"
        ></textarea>
        <small
          class="pico-color-red-500"
          [hidden]="back.valid || back.pristine"
        >
          Field not valid
        </small>
      </label>
    </form>

    <hr />
    <details class="dropdown" *ngIf="index !== -1">
      <summary>Menu</summary>
      <ul dir="rtl">
        <li>
          <a class="secondary" (click)="handleClearCardStats()">
            Clear stats 🧼
          </a>
        </li>
        <li>
          <a class="secondary" (click)="handleDeleteCard()"> Delete 🗑️ </a>
        </li>
      </ul>
    </details>

    <footer>
      <button type="button" class="secondary" (click)="handleDismiss()">
        Dismiss
      </button>
      <button
        type="button"
        [disabled]="!cardForm.form.valid"
        (click)="handleSubmit()"
      >
        Submit
      </button>
    </footer>
  </article>
</dialog>
